<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Обнаружение дефектов дорог</title>
    <!-- Подключаем Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Подключаем Font Awesome для иконок -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!--это шапочька-->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-road me-2"></i>Обнаружение трещин и выбоин
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Главная</a><!--якореченьки-->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">О проекте</a><!--якореченьки-->
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Статистика</a><!--якореченьки-->
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- необязательная штучька енто панелька -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-3">Обнаружение дефектов дорожного покрытия</h1>
            <p class="lead mb-4">Загрузите фото дороги, и наш ИИ автоматически обнаружит трещины и выбоины</p>
            <a href="#upload-section" class="btn btn-light btn-lg px-4">
                <i class="fas fa-upload me-2"></i>Попробовать сейчас
            </a>
        </div>
    </section>

    <!-- Основной контент -->
    <div class="container mb-5" id="upload-section">
        <div class="row">
            <!-- Сюда грузимся -->
            <div class="col-lg-8">
                <div class="upload-container">
                    <h3 class="mb-4"><i class="fas fa-camera me-2"></i>Загрузите фото дороги</h3>
                    
                    <div class="file-upload mb-4" id="dropZone">
                        <i class="fas fa-cloud-upload-alt fa-3x mb-3 text-muted"></i>
                        <h5>Перетащите фото сюда</h5>
                        <p class="text-muted">или</p>
                        <button class="btn btn-primary" id="uploadBtn">
                            <i class="fas fa-folder-open me-2"></i>Выберите файл
                        </button>
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Определить местоположение:</label>
                        <button class="btn btn-outline-primary w-100" id="locationBtn">
                            <i class="fas fa-map-marker-alt me-2"></i>Определить город
                        </button>
                    </div>
                    
                    <div class="location-info" id="locationInfo" style="display: none;">
                        <h5><i class="fas fa-city me-2"></i>Текущее местоположение:</h5>
                        <p id="cityName">Город не определен</p>
                    </div>
                    
                    <div class="detection-results" id="resultsPanel" style="display: none;">
                        <h4 class="mb-3"><i class="fas fa-search me-2"></i>Результаты анализа</h4>
                        <div class="alert" id="resultAlert">
                            <i class="fas fa-spinner fa-spin me-2"></i>
                            <strong>Анализ в процессе...</strong> Пожалуйста, подождите.
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title">Исходное изображение</h5>
                                        <img src="" alt="Original" class="img-fluid rounded result-image" id="originalImage">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-body">
                                        <h5 class="card-title">Обнаруженные дефекты</h5>
                                        <img src="" alt="Defects" class="img-fluid rounded result-image" id="processedImage">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="ai-processing" id="aiResultsPlaceholder">
                            <p class="text-center text-muted">Здесь будут отображаться результаты анализа ИИ</p>
                        </div>
                        
                        <div class="defect-list mb-4" id="defectList">
                            <!-- Сюда будут добавляться результаты анализа -->
                        </div>
                        
                        <div class="mt-4">
                            <button class="btn btn-primary me-2" id="reportBtn" disabled>
                                <i class="fas fa-share-alt me-2"></i>Отправить в дорожную службу
                            </button>
                            <button class="btn btn-outline-secondary" id="tryAgainBtn">
                                <i class="fas fa-redo me-2"></i>Попробовать еще раз
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Правая колонка последние обнаружения -->
            <div class="col-lg-4">
                <div class="recent-detections sticky-top" style="top: 20px;">
                    <h4 class="mb-3"><i class="fas fa-history me-2"></i>Последние обнаружения</h4>
                    <p class="text-muted mb-3">Недавно обнаруженные дефекты в вашем городе</p>
                    
                    <div id="recentDetectionsList">
                        <div class="detection-item mb-2">
                            <div class="d-flex justify-content-between">
                                <strong>ул. Ленина, 15</strong>
                                <span class="badge bg-danger">3 выбоины</span>
                            </div>
                            <small class="text-muted">2 часа назад</small>
                        </div>
                        
                        <div class="detection-item mb-2">
                            <div class="d-flex justify-content-between">
                                <strong>пр. Победы, 42</strong>
                                <span class="badge bg-warning text-dark">8 трещин</span>
                            </div>
                            <small class="text-muted">5 часов назад</small>
                        </div>
                        
                        <div class="text-center mt-3">
                            <button class="btn btn-sm btn-outline-primary">
                                <i class="fas fa-list me-1"></i>Показать все
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Подключаем Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Подключаем наш JavaScript -->
    <script src="script.js"></script>
</body>
</html>